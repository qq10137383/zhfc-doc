# 快速开始

这一章节会帮助你从头搭建一个简单的微前端应用，应用应该包含一个主项目和至少一个子项目。

## 依赖环境

- [Node.js v12.16.0+](https://nodejs.org/en/)

## 安装CLI

我们使用 `zhfc-cli` 来生成微前端主项目和子项目脚手架，首先在全局范围内安装 `zhfc-cli`。

``` bash
npm i zhfc-cli -g
```

## 生成主项目

进入工作目录，输入如下命令创建主项目，其中 `xtzhfc` 为目录名：

``` base
zhfc-cli create xtzhfc
```

向导将会指引你完成主项目的创建，如图：

![创建向导](/images/guide/zhfc-cli-create.jpg)

::: tip
1. 应用类型：生成主项目选择 `微前端主应用`。
2. 应用名：即是主应用名配置参数 `process.env.VUE_APP_NAME`，又是 `package.json` 的 `name` ，所以名称要符合 `package` 命名规范，推荐使用小写，多个单词使用 `-` 隔开，如: `presale-house`。
3. 启动端口：应用的启动端口。
4. 应用标题：此参数会出现在 **系统登录** 标题、登录后 **主页面导航栏** 系统标题、**页面标题** 等多个位置。
5. eslint：为了保证代码的规范性，推荐项目中使用 `eslint`，开启后将会增加 `eslint:recommended` 、`plugin:vue/recommended` 预设。
:::

## 生成子项目

进入工作目录，输入如下命令创建子项目，其中 `byfz` 为目录名：

``` base
zhfc-cli create byfz
```

::: tip
1. 应用类型：生成子项目选择 `微前端子应用`。
2. 应用名：应用名称，同创建主应用应用名。
3. 启动端口：应用的启动端口。
4. 创建向导和主项目基本一致，和主应用不同的是子应用缺少 `输入应用标题` 步骤，子应用的标题需要到 [子系统配置->创建子系统](./subsystem-config.md/#创建子系统) 设置。
5. 重复此步骤创建其他子项目，<span class='c-red'>注意：项目名和端口号不要重复。</span>
:::

## 启动项目

1. 修改主项目 `.env.development` api地址
``` bash
# 服务基地址
VUE_APP_BASE_API = 'http://81.71.162.135:81/spfjy/'
```
::: warning
此地址为测试地址，不可用时请更换实际项目地址。
:::

2. 启动主项目
``` bash
cd xtzhfc
npm run dev
```

3. 启动子项目
``` bash
cd byfz
npm run dev
```
4. 访问主项目启动地址进入系统登录

::: tip
1. 主项目和子项目没有启动顺序，可以先启动主项目，也可以先启动子项目。
2. 如果主项目启动后，点击子项目菜单出现加载子项目失败的提示，请启动对应子项目，<span class='c-red'>启动完成后需要刷新一下主项目</span>，否则即使子项目启动会依然提示加载子项目失败！
3. 主项目和子项目都启动后，<span class='c-red'>仅仅需要访问主项目的启动端口进入系统</span>，点击对应子系统时会自动加载子系统，单独访问子系统会提示请在主系统打开！
:::
